<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="This is just a test document for Benchmark.js.">
    <title id="test-title-1">???</title>
    <!-- https://jsperf.com/benchmark-js-test-page -->
    <link rel="stylesheet" href="main.css">
    <meta name="referrer" content="never">
    <meta name="robots" content="noindex">
    <script>document.documentElement.className = 'js'</script>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.js"></script><![endif]-->
  </head>
  <body>
    <article>
      <hgroup>
        <h1 id="test-title-2">???</h1>
        <h2>JavaScript performance comparison</h2>
      </hgroup>

      <p class="meta">
        Test case created by <a href="https://mathiasbynens.be/">Mathias</a>
        <time datetime="2010-08-02T18:45:23+02:00" pubdate>40 seconds ago</time>
        and last updated <time datetime="2010-08-02T18:45:51+02:00">12 seconds ago</time>
      </p>

      <section>
        <h2>Info</h2>
        <p id="test-description">
          ???
        </p>
      </section>

      <section>
        <h2>Related tests</h2>
        <ul id="related-tests">
          <li>&lt;none&gt;</li>
        </ul>
      </section>

      <section id="prep-code">
        <h2>Preparation code</h2>
        <pre id="prep-code-display"><code>???</code></pre>
      </section>

      <section>
        <h2>Preparation code output</h2>
        <div id="user-output">
          <div>Lorem ipsum</div>
        </div>
      </section>

      <section id="runner">
        <h2>Test runner</h2>
        <p id="firebug">
          <strong>Warning! For accurate results, please disable Firebug before running the tests. <a href="https://jsperf.com/faq#firebug-warning">(Why?)</a></strong>
        </p>
        <p id="status">
          <noscript>
            <strong>To run the tests, please <a href="http://enable-javascript.com/">enable JavaScript</a> and reload the page.</strong>
          </noscript>
        </p>
        <div id="controls">
          <button id="run" type="button"></button>
        </div>
        <table id="test-table">
          <caption>Testing in <span id="user-agent"></span></caption>
          <thead>
          <tr>
            <th colspan="2">Test</th>
            <th title="Operations per second (higher is better)">Ops/sec</th>
          </tr>
          </thead>
          <tbody id="test-rows-container">
          </tbody>
        </table>

        <p>
          You can <a href="#" rel="nofollow">edit these tests or add even more tests to this page</a>
          by appending <code>/edit</code> to the URL.
        </p>
      </section>

      <section>
        <h2 id="results">Compare results of other browsers</h2>
        <div id="bs-results"></div>
      </section>

      <section id="comments">
        <h1>0 comments</h1>
        <div id="comments-wrapper">
          <form action="#comment-form" method="post" id="comment-form">
            <fieldset>
              <h2>Add a comment</h2>
              <div>
                <label for="author">Name <em title="This field is required">*</em></label>
                <input type="text" name="author" id="author" required>
              </div>
              <div>
                <label for="author-email">Email <em title="This field is required">*</em></label>
                <label class="inline">
                  <input type="email" name="author-email" id="author-email" required> (only used for Gravatar)
                </label>
              </div>
              <div>
                <label for="author-url">URL </label>
                <input type="url" name="author-url" id="author-url">
              </div>
              <div>
                <label for="message">Message <em title="This field is required">*</em><span>Markdown syntax is allowed</span></label>
                <textarea name="message" id="message" required></textarea>
              </div>
              <div class="buttons">
                <input type="submit" class="submit" value="Add comment">
              </div>
            </fieldset>
          </form>
        </div>
      </section>

      <section>
        <h2>A list of all available tests</h2>
        <div id="test-catalog"></div>
      </section>
    </article>

    <footer>
      &copy; 2014 <a href="https://jsperf.com/">jsPerf.com</a>
      &middot; <a href="https://jsperf.com/browse">Browse</a>
      &middot; <a href="https://jsperf.com/popular">Popular tests</a>
      &middot; <a href="https://jsperf.com/faq">FAQ</a>
      &middot; <a href="https://jsperf.com/faq#donate">Donate</a>
      &middot; <a href="http://twitter.com/jsperf" rel="nofollow">twitter: @jsperf</a>
      &middot; <a href="https://benchmarkjs.com/">Benchmark.js</a>
      &middot; by <a href="https://mathiasbynens.be/" title="Mathias Bynens, front-end web developer">@mathias</a>
    </footer>

    <script src="../../node_modules/lodash/lodash.js"></script>
    <script src="../../node_modules/platform/platform.js"></script>
    <script src="../../node_modules/json5/lib/json5.js"></script>
    <script src="../../benchmark.js"></script>
    <script src="ui.js"></script>
    <script src="../../plugin/globalEval.js"></script>
    <script src="../../plugin/ui.browserscope.js"></script>
    <script>
      // ui.browserscope.key = 'agt1YS1wcm9maWxlcnIRCxIEVGVzdBiAgICAiI2QCgw';
      ui.browserscope.selector = '#bs-results';
    </script>
    <script id="test-row-template" type="text/plain">
          <tr>
            <th scope="row" id="title-ID">
              <div>Comments</div>
            </th>
            <td id="code-ID" class="code">
              <pre><code>???</code></pre>
            </td>
            <td id="results-ID" class="results"></td>
          </tr>
    </script>
    <script>
      // https://codepen.io/KryptoniteDove/post/load-json-file-locally-using-pure-javascript
      function loadTestFile(callback) {
        var xobj = new XMLHttpRequest();
        //xobj.overrideMimeType("application/json");
        var testfile = window.location.hash || 'testfile=test0001.json5';
        testfile = testfile.replace(/^.*testfile=(.*?\.json5?).*$/, '$1');
        console.info('loading test spec file:', testfile);
        xobj.open('GET', testfile, true);
        xobj.onreadystatechange = function () {
          if (xobj.readyState === 4 && xobj.status == "200") {
            callback(xobj.responseText, testfile);
          }
        };
        xobj.send(null);
      }
      function loadCatalogFile() {
        var xobj = new XMLHttpRequest();
        var testfile = 'test-catalog.txt';
        xobj.open('GET', testfile, true);
        xobj.onreadystatechange = function () {
          if (xobj.readyState === 4 && xobj.status == "200") {
            var lst = xobj.responseText
            .replace(/\r\n?/g, '\n')
            .split('\n')
            .filter(function (l) {
              return (l.trim() !== '');
            })
            .map(function (l) {
              return '<li><a href="?' + ('' + Math.random()).substr(-3) + '#testfile=' + l.trim() + '">' + l.trim().replace(/\.json5?/, '') + '</a></li>';
            });

            setHTML('test-catalog', '<ul>' + lst.join('\n') + '</ul>');
          }
        };
        xobj.send(null);
      }

      loadTestFile(function benchmark_load_cb(response, file_uri) {
        // Parse JSON string into object
        var actual_JSON = JSON5.parse(response);
        ui.initFromJSON(actual_JSON);
      });
      loadCatalogFile();
    </script>
  </body>
</html>
